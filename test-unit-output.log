$ vitest run --config=vitest.config.ts

 RUN  v3.2.4 /root/repo

 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should open and close database connections 19ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should handle multiple concurrent connections 14ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should configure database pragmas 10ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should insert data correctly 4ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should select data correctly 11ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should update data correctly 10ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should delete data correctly 1ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should handle parameterized queries safely 2ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should handle transactions correctly 13ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should rollback failed transactions 2ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should handle nested transactions appropriately 5ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should explain query execution plans 3ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should create and use indexes for optimization 20ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should optimize join queries with proper indexing 13ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should manage index lifecycle 22ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should cache and retrieve query results 2ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should cache parameterized queries correctly 7ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should provide accurate cache statistics 24ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should handle cache expiration 2ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark simple select operations 255ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark join operations 45ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark aggregation queries 145ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark insert operations 390ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark update operations 194ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should compare performance with and without indexes 201ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Batch Operations Tests > should execute batch statements efficiently 44ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Batch Operations Tests > should handle mixed batch operations 4ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should retrieve table information 2ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should list all tables 2ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should list table indexes 11ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Memory Management Tests > should track memory usage 13ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Memory Management Tests > should optimize database to reduce memory usage 89ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should backup database successfully 114ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export database to SQL format 11ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export schema only when requested 16ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export specific tables only 2ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle invalid SQL gracefully 3ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle closed connection errors 15ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle constraint violations 43ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle large result sets efficiently 37ms
 ✓ |0| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle concurrent operations safely 4ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should open and close database connections 52ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should handle multiple concurrent connections 63ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should configure database pragmas 2ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should insert data correctly 32ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should select data correctly 21ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should update data correctly 6ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should delete data correctly 1ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should handle parameterized queries safely 8ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should handle transactions correctly 1ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should rollback failed transactions 1ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should handle nested transactions appropriately 1ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should explain query execution plans 2ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should create and use indexes for optimization 30ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should optimize join queries with proper indexing 2ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should manage index lifecycle 18ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should cache and retrieve query results 2ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should cache parameterized queries correctly 21ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should provide accurate cache statistics 17ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should handle cache expiration 1ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark simple select operations 320ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark join operations 105ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark aggregation queries 276ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark insert operations 370ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark update operations 228ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should compare performance with and without indexes 172ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Batch Operations Tests > should execute batch statements efficiently 24ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Batch Operations Tests > should handle mixed batch operations 2ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should retrieve table information 1ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should list all tables 11ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should list table indexes 2ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Memory Management Tests > should track memory usage 11ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Memory Management Tests > should optimize database to reduce memory usage 67ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should backup database successfully 130ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export database to SQL format 1ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export schema only when requested 1ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export specific tables only 8ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle invalid SQL gracefully 4ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle closed connection errors 3ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle constraint violations 4ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle large result sets efficiently 47ms
 ✓ |1| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle concurrent operations safely 11ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should open and close database connections 12ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should handle multiple concurrent connections 7ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should configure database pragmas 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should insert data correctly 8ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should select data correctly 3ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should update data correctly 2ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should delete data correctly 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should handle parameterized queries safely 9ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should handle transactions correctly 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should rollback failed transactions 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should handle nested transactions appropriately 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should explain query execution plans 2ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should create and use indexes for optimization 2ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should optimize join queries with proper indexing 6ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should manage index lifecycle 3ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should cache and retrieve query results 10ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should cache parameterized queries correctly 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should provide accurate cache statistics 2ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should handle cache expiration 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark simple select operations 138ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark join operations 40ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark aggregation queries 77ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark insert operations 154ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark update operations 113ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should compare performance with and without indexes 62ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Batch Operations Tests > should execute batch statements efficiently 19ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Batch Operations Tests > should handle mixed batch operations 6ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should retrieve table information 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should list all tables 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should list table indexes 53ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Memory Management Tests > should track memory usage 9ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Memory Management Tests > should optimize database to reduce memory usage 2ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should backup database successfully 108ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export database to SQL format 2ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export schema only when requested 2ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export specific tables only 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle invalid SQL gracefully 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle closed connection errors 1ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle constraint violations 29ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle large result sets efficiently 76ms
 ✓ |2| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle concurrent operations safely 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should open and close database connections 5ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should handle multiple concurrent connections 3ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Connection Management Tests > should configure database pragmas 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should insert data correctly 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should select data correctly 3ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should update data correctly 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should delete data correctly 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Basic CRUD Operations Tests > should handle parameterized queries safely 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should handle transactions correctly 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should rollback failed transactions 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Transaction Management Tests > should handle nested transactions appropriately 6ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should explain query execution plans 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should create and use indexes for optimization 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should optimize join queries with proper indexing 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Optimization Tests > should manage index lifecycle 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should cache and retrieve query results 3ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should cache parameterized queries correctly 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should provide accurate cache statistics 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Query Caching Tests > should handle cache expiration 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark simple select operations 98ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark join operations 36ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark aggregation queries 41ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark insert operations 109ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should benchmark update operations 46ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Performance Benchmarking Tests > should compare performance with and without indexes 54ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Batch Operations Tests > should execute batch statements efficiently 11ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Batch Operations Tests > should handle mixed batch operations 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should retrieve table information 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should list all tables 2ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Database Introspection Tests > should list table indexes 3ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Memory Management Tests > should track memory usage 6ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Memory Management Tests > should optimize database to reduce memory usage 4ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should backup database successfully 105ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export database to SQL format 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export schema only when requested 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Backup and Export Tests > should export specific tables only 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle invalid SQL gracefully 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle closed connection errors 1ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle constraint violations 24ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle large result sets efficiently 27ms
 ✓ |3| tests/integration/wasm/wasm-sqlite-utils.test.ts > WASM SQLite Utilities Integration Tests > Error Handling and Edge Cases > should handle concurrent operations safely 6ms
stderr | tests/integration/api/api-routes.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
🚀 Starting database migration...

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:87:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:87:20

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
✅ No pending migrations

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should authenticate user with valid credentials
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should reject invalid credentials
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should validate request body
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should handle rate limiting
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should logout user successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should handle logout without token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return user status for valid token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return unauthenticated for invalid token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should return user tasks with pagination
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should filter tasks by status
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should require authentication
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should handle search queries
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should create new task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate required fields
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate field types and constraints
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return specific task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return 404 for non-existent task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should prevent access to other users tasks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should update task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should authenticate user with valid credentials 34ms
   → expected undefined to be 200 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should reject invalid credentials 3ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should validate request body 2ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should handle rate limiting 2ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should logout user successfully 5ms
   → expected undefined to be 200 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should handle logout without token 2ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return user status for valid token 5ms
   → expected undefined to be 200 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return unauthenticated for invalid token 12ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should return user tasks with pagination 3ms
   → expected undefined to be 200 // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should filter tasks by status 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should require authentication 2ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should handle search queries 2ms
   → expected undefined to be 200 // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should create new task successfully 4ms
   → expected undefined to be 201 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate required fields 3ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate field types and constraints 4ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return specific task 3ms
   → expected undefined to be 200 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return 404 for non-existent task 2ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should prevent access to other users tasks 9ms
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should validate update data
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should delete task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should prevent deletion of tasks with active executions
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should return user environments
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should filter active environments
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should create new environment
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should validate configuration schema
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should enforce unique names per user
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should return executions for user tasks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should filter executions by task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should return execution details
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should include related events
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle malformed JSON requests
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle missing Content-Type header
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle request body size limits
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should update task successfully 6ms
   → expected undefined to be 200 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should validate update data 2ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should delete task successfully 10ms
   → expected undefined to be 200 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should prevent deletion of tasks with active executions 2ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should return user environments 2ms
   → expected undefined to be 200 // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should filter active environments 2ms
   → expected undefined to be 200 // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should create new environment 6ms
   → expected undefined to be 201 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should validate configuration schema 1ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should enforce unique names per user 6ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should return executions for user tasks 14ms
   → expected undefined to be 200 // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should filter executions by task 2ms
   → expected undefined to be 200 // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should return execution details 2ms
   → expected undefined to be 200 // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should include related events 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle malformed JSON requests 2ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle missing Content-Type header 2ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle request body size limits 73ms
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle database connection errors
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle unexpected server errors
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should implement rate limiting for authentication endpoints
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should validate input to prevent injection attacks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: ye.text is not a function
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:93[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should enforce CORS policies
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: ye.json is not a function
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:1[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should sanitize sensitive data in responses
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle concurrent requests efficiently
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should include performance metrics in response headers
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle timeout scenarios
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle database connection errors 3ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle unexpected server errors 3ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should implement rate limiting for authentication endpoints 5ms
   → Cannot read properties of undefined (reading 'status')
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should validate input to prevent injection attacks 3ms
   → response.text is not a function
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should enforce CORS policies 4ms
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should sanitize sensitive data in responses 3ms
   → expected undefined to be 200 // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle concurrent requests efficiently 7ms
   → expected false to be true // Object.is equality
 × |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should include performance metrics in response headers 15ms
   → expected undefined to be 200 // Object.is equality
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should implement caching for frequently accessed data
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:108:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:108:5
}

 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle timeout scenarios 104ms
 ✓ |0| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should implement caching for frequently accessed data 3ms
stderr | tests/integration/api/api-routes.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
🚀 Starting database migration...

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:87:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:87:20

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
✅ No pending migrations

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should authenticate user with valid credentials
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should reject invalid credentials
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should validate request body
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should handle rate limiting
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should logout user successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should handle logout without token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return user status for valid token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return unauthenticated for invalid token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should return user tasks with pagination
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should filter tasks by status
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should require authentication
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should handle search queries
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should create new task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate required fields
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate field types and constraints
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return specific task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return 404 for non-existent task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should prevent access to other users tasks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should update task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should validate update data
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should authenticate user with valid credentials 21ms
   → expected undefined to be 200 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should reject invalid credentials 7ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should validate request body 7ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should handle rate limiting 2ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should logout user successfully 10ms
   → expected undefined to be 200 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should handle logout without token 3ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return user status for valid token 3ms
   → expected undefined to be 200 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return unauthenticated for invalid token 5ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should return user tasks with pagination 4ms
   → expected undefined to be 200 // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should filter tasks by status 10ms
   → expected undefined to be 200 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should require authentication 2ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should handle search queries 2ms
   → expected undefined to be 200 // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should create new task successfully 2ms
   → expected undefined to be 201 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate required fields 4ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate field types and constraints 3ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return specific task 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return 404 for non-existent task 2ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should prevent access to other users tasks 2ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should update task successfully 3ms
   → expected undefined to be 200 // Object.is equality
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should delete task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should prevent deletion of tasks with active executions
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should return user environments
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should filter active environments
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should create new environment
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should validate configuration schema
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should enforce unique names per user
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should return executions for user tasks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should filter executions by task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should return execution details
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should include related events
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle malformed JSON requests
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle missing Content-Type header
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle request body size limits
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should validate update data 8ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should delete task successfully 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should prevent deletion of tasks with active executions 2ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should return user environments 5ms
   → expected undefined to be 200 // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should filter active environments 5ms
   → expected undefined to be 200 // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should create new environment 2ms
   → expected undefined to be 201 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should validate configuration schema 4ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should enforce unique names per user 2ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should return executions for user tasks 7ms
   → expected undefined to be 200 // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should filter executions by task 2ms
   → expected undefined to be 200 // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should return execution details 2ms
   → expected undefined to be 200 // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should include related events 5ms
   → expected undefined to be 200 // Object.is equality
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle malformed JSON requests 2ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle missing Content-Type header 6ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle request body size limits 93ms
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle database connection errors
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle unexpected server errors
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should implement rate limiting for authentication endpoints
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should validate input to prevent injection attacks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: ye.text is not a function
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:93[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should enforce CORS policies
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: ye.json is not a function
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:1[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should sanitize sensitive data in responses
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle concurrent requests efficiently
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should include performance metrics in response headers
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle timeout scenarios
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle database connection errors 13ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle unexpected server errors 3ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should implement rate limiting for authentication endpoints 10ms
   → Cannot read properties of undefined (reading 'status')
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should validate input to prevent injection attacks 2ms
   → response.text is not a function
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should enforce CORS policies 3ms
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should sanitize sensitive data in responses 6ms
   → expected undefined to be 200 // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle concurrent requests efficiently 9ms
   → expected false to be true // Object.is equality
 × |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should include performance metrics in response headers 10ms
   → expected undefined to be 200 // Object.is equality
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should implement caching for frequently accessed data
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:108:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:108:5
}

 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle timeout scenarios 103ms
 ✓ |1| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should implement caching for frequently accessed data 2ms
stderr | tests/integration/api/api-routes.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
🚀 Starting database migration...

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:87:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:87:20

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
✅ No pending migrations

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should authenticate user with valid credentials
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should reject invalid credentials
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should validate request body
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should handle rate limiting
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should logout user successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should handle logout without token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should authenticate user with valid credentials 62ms
   → expected undefined to be 200 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should reject invalid credentials 9ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should validate request body 17ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should handle rate limiting 9ms
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return user status for valid token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return unauthenticated for invalid token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should return user tasks with pagination
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should filter tasks by status
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should require authentication
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should handle search queries
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should create new task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate required fields
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate field types and constraints
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return specific task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return 404 for non-existent task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should prevent access to other users tasks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should update task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should validate update data
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should delete task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should prevent deletion of tasks with active executions
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should return user environments
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should filter active environments
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should create new environment
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should logout user successfully 3ms
   → expected undefined to be 200 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should handle logout without token 1ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return user status for valid token 17ms
   → expected undefined to be 200 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return unauthenticated for invalid token 2ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should return user tasks with pagination 8ms
   → expected undefined to be 200 // Object.is equality
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should filter tasks by status 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should require authentication 1ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should handle search queries 2ms
   → expected undefined to be 200 // Object.is equality
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should create new task successfully 20ms
   → expected undefined to be 201 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate required fields 3ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate field types and constraints 2ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return specific task 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return 404 for non-existent task 11ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should prevent access to other users tasks 2ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should update task successfully 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should validate update data 1ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should delete task successfully 4ms
   → expected undefined to be 200 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should prevent deletion of tasks with active executions 11ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should return user environments 2ms
   → expected undefined to be 200 // Object.is equality
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should filter active environments 2ms
   → expected undefined to be 200 // Object.is equality
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should validate configuration schema
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should enforce unique names per user
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should return executions for user tasks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should filter executions by task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should return execution details
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should include related events
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle malformed JSON requests
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle missing Content-Type header
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle request body size limits
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should create new environment 15ms
   → expected undefined to be 201 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should validate configuration schema 4ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should enforce unique names per user 10ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should return executions for user tasks 4ms
   → expected undefined to be 200 // Object.is equality
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should filter executions by task 5ms
   → expected undefined to be 200 // Object.is equality
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should return execution details 2ms
   → expected undefined to be 200 // Object.is equality
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should include related events 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle malformed JSON requests 1ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle missing Content-Type header 1ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle request body size limits 141ms
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle database connection errors
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle unexpected server errors
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should implement rate limiting for authentication endpoints
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should validate input to prevent injection attacks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: ye.text is not a function
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:93[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should enforce CORS policies
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: ye.json is not a function
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:1[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should sanitize sensitive data in responses
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle concurrent requests efficiently
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should include performance metrics in response headers
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle timeout scenarios
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle database connection errors 4ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle unexpected server errors 4ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should implement rate limiting for authentication endpoints 20ms
   → Cannot read properties of undefined (reading 'status')
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should validate input to prevent injection attacks 3ms
   → response.text is not a function
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should enforce CORS policies 6ms
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should sanitize sensitive data in responses 2ms
   → expected undefined to be 200 // Object.is equality
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle concurrent requests efficiently 14ms
   → expected false to be true // Object.is equality
 × |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should include performance metrics in response headers 5ms
   → expected undefined to be 200 // Object.is equality
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should implement caching for frequently accessed data
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:108:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:108:5
}

 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle timeout scenarios 112ms
 ✓ |2| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should implement caching for frequently accessed data 6ms
stderr | tests/integration/api/api-routes.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
🚀 Starting database migration...

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:87:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:87:20

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
✅ No pending migrations

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should authenticate user with valid credentials
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should reject invalid credentials
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should validate request body
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should handle rate limiting
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should logout user successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should handle logout without token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return user status for valid token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return unauthenticated for invalid token
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should return user tasks with pagination
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should filter tasks by status
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should require authentication
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should handle search queries
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should create new task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate required fields
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate field types and constraints
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return specific task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return 404 for non-existent task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should prevent access to other users tasks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should update task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should validate update data
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should delete task successfully
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should prevent deletion of tasks with active executions
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should return user environments
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should filter active environments
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should create new environment
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should validate configuration schema
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should enforce unique names per user
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should return executions for user tasks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should filter executions by task
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should return execution details
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should include related events
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle malformed JSON requests
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle missing Content-Type header
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle request body size limits
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should authenticate user with valid credentials 16ms
   → expected undefined to be 200 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should reject invalid credentials 2ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should validate request body 8ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/login > should handle rate limiting 9ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should logout user successfully 3ms
   → expected undefined to be 200 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > POST /api/auth/logout > should handle logout without token 2ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return user status for valid token 3ms
   → expected undefined to be 200 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Authentication Endpoints > GET /api/auth/status > should return unauthenticated for invalid token 2ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should return user tasks with pagination 3ms
   → expected undefined to be 200 // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should filter tasks by status 3ms
   → expected undefined to be 200 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should require authentication 1ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks > should handle search queries 2ms
   → expected undefined to be 200 // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should create new task successfully 2ms
   → expected undefined to be 201 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate required fields 1ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > POST /api/tasks > should validate field types and constraints 2ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return specific task 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should return 404 for non-existent task 2ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > GET /api/tasks/[id] > should prevent access to other users tasks 2ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should update task successfully 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > PUT /api/tasks/[id] > should validate update data 1ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should delete task successfully 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Tasks API Endpoints > DELETE /api/tasks/[id] > should prevent deletion of tasks with active executions 1ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should return user environments 2ms
   → expected undefined to be 200 // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > GET /api/environments > should filter active environments 2ms
   → expected undefined to be 200 // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should create new environment 2ms
   → expected undefined to be 201 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should validate configuration schema 1ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Environments API Endpoints > POST /api/environments > should enforce unique names per user 4ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should return executions for user tasks 2ms
   → expected undefined to be 200 // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions > should filter executions by task 2ms
   → expected undefined to be 200 // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should return execution details 2ms
   → expected undefined to be 200 // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Agent Executions API Endpoints > GET /api/executions/[id] > should include related events 2ms
   → expected undefined to be 200 // Object.is equality
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle malformed JSON requests 1ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle missing Content-Type header 3ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle request body size limits 44ms
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle database connection errors
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle unexpected server errors
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should implement rate limiting for authentication endpoints
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should validate input to prevent injection attacks
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: ye.text is not a function
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:93[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should enforce CORS policies
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: ye.json is not a function
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:1[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should sanitize sensitive data in responses
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle concurrent requests efficiently
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'ok')
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1293:71[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should include performance metrics in response headers
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle timeout scenarios
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle database connection errors 2ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Error Handling and Validation > should handle unexpected server errors 1ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should implement rate limiting for authentication endpoints 4ms
   → Cannot read properties of undefined (reading 'status')
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should validate input to prevent injection attacks 1ms
   → response.text is not a function
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should enforce CORS policies 3ms
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Security and Rate Limiting > should sanitize sensitive data in responses 1ms
   → expected undefined to be 200 // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle concurrent requests efficiently 5ms
   → expected false to be true // Object.is equality
 × |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should include performance metrics in response headers 2ms
   → expected undefined to be 200 // Object.is equality
stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should implement caching for frequently accessed data
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:102:5
}

stderr | tests/integration/api/api-routes.test.ts > API Routes Integration Tests
Cleanup failed: DrizzleQueryError: Failed query: delete from "agent_executions"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:108:5 {
  query: [32m'delete from "agent_executions"'[39m,
  params: [],
  cause: TypeError: Cannot read properties of undefined (reading 'map')
      at processQueryResult [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1303:60[90m)[39m
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1297:11[90m)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/api/api-routes.test.ts:116:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/api/api-routes.test.ts:108:5
}

 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should handle timeout scenarios 101ms
 ✓ |3| tests/integration/api/api-routes.test.ts > API Routes Integration Tests > Performance and Monitoring > should implement caching for frequently accessed data 2ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem with all required properties 2ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem with optional description as undefined 1ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem without description property 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleItem type > should accept all valid status values 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleItem type > should accept all valid priority values 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData with all required properties 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData with optional description as undefined 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData without description property 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFormData type > should accept all valid priority values 1ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with all properties 4ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with empty object 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only status 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only priority 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only searchTerm 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFilter type > should accept all valid status values 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFilter type > should accept all valid priority values 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleFilter type > should accept empty string as searchTerm 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with all properties 2ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with items 2ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with filter 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with loading state 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with error state 0ms
 ✓ |0| src/features/example-feature/types.test.ts > ExampleStore type > should have properly typed action functions 2ms
 ✓ |0| src/features/example-feature/types.test.ts > Advanced type operations > should handle template literal types 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Advanced type operations > should handle keyof and typeof operations 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Advanced type operations > should handle index signatures and mapped types 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Advanced type operations > should handle function type definitions 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Advanced type operations > should handle conditional types with infer 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Advanced type operations > should handle recursive types 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleItem and ExampleFormData 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleItem and ExampleFilter 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleStore and other types 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type compatibility and relationships > should handle cross-type operations seamlessly 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Type compatibility and relationships > should handle type transformations correctly 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleItem type at runtime 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleFormData type at runtime 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleFilter type at runtime 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle partial type updates correctly 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle generic type operations 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle union type operations 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle conditional types 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle mapped types correctly 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle utility types correctly 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle record types correctly 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleItem with very long strings 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleItem with special characters 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleFilter with empty string searchTerm 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleFilter with whitespace-only searchTerm 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with empty items array 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with large number of items 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with unicode characters 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with extreme date values 1ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle type assertions correctly 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle branded types correctly 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle discriminated unions correctly 0ms
 ✓ |0| src/features/example-feature/types.test.ts > Edge cases and validation > should handle deep readonly types 1ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem with all required properties 2ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem with optional description as undefined 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem without description property 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleItem type > should accept all valid status values 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleItem type > should accept all valid priority values 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData with all required properties 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData with optional description as undefined 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData without description property 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFormData type > should accept all valid priority values 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with all properties 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with empty object 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only status 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only priority 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only searchTerm 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFilter type > should accept all valid status values 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFilter type > should accept all valid priority values 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleFilter type > should accept empty string as searchTerm 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with all properties 2ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with items 14ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with filter 1ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with loading state 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with error state 0ms
 ✓ |1| src/features/example-feature/types.test.ts > ExampleStore type > should have properly typed action functions 6ms
 ✓ |1| src/features/example-feature/types.test.ts > Advanced type operations > should handle template literal types 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Advanced type operations > should handle keyof and typeof operations 1ms
 ✓ |1| src/features/example-feature/types.test.ts > Advanced type operations > should handle index signatures and mapped types 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Advanced type operations > should handle function type definitions 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Advanced type operations > should handle conditional types with infer 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Advanced type operations > should handle recursive types 1ms
 ✓ |1| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleItem and ExampleFormData 6ms
 ✓ |1| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleItem and ExampleFilter 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleStore and other types 1ms
 ✓ |1| src/features/example-feature/types.test.ts > Type compatibility and relationships > should handle cross-type operations seamlessly 1ms
 ✓ |1| src/features/example-feature/types.test.ts > Type compatibility and relationships > should handle type transformations correctly 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleItem type at runtime 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleFormData type at runtime 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleFilter type at runtime 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle partial type updates correctly 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle generic type operations 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle union type operations 15ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle conditional types 28ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle mapped types correctly 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle utility types correctly 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle record types correctly 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleItem with very long strings 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleItem with special characters 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleFilter with empty string searchTerm 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleFilter with whitespace-only searchTerm 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with empty items array 1ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with large number of items 13ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with unicode characters 1ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with extreme date values 1ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle type assertions correctly 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle branded types correctly 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle discriminated unions correctly 0ms
 ✓ |1| src/features/example-feature/types.test.ts > Edge cases and validation > should handle deep readonly types 1ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem with all required properties 2ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem with optional description as undefined 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem without description property 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleItem type > should accept all valid status values 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleItem type > should accept all valid priority values 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData with all required properties 1ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData with optional description as undefined 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData without description property 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFormData type > should accept all valid priority values 15ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with all properties 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with empty object 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only status 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only priority 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only searchTerm 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFilter type > should accept all valid status values 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFilter type > should accept all valid priority values 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleFilter type > should accept empty string as searchTerm 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with all properties 8ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with items 4ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with filter 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with loading state 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with error state 0ms
 ✓ |2| src/features/example-feature/types.test.ts > ExampleStore type > should have properly typed action functions 7ms
 ✓ |2| src/features/example-feature/types.test.ts > Advanced type operations > should handle template literal types 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Advanced type operations > should handle keyof and typeof operations 4ms
 ✓ |2| src/features/example-feature/types.test.ts > Advanced type operations > should handle index signatures and mapped types 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Advanced type operations > should handle function type definitions 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Advanced type operations > should handle conditional types with infer 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Advanced type operations > should handle recursive types 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleItem and ExampleFormData 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleItem and ExampleFilter 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleStore and other types 1ms
 ✓ |2| src/features/example-feature/types.test.ts > Type compatibility and relationships > should handle cross-type operations seamlessly 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type compatibility and relationships > should handle type transformations correctly 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleItem type at runtime 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleFormData type at runtime 1ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleFilter type at runtime 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle partial type updates correctly 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle generic type operations 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle union type operations 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle conditional types 3ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle mapped types correctly 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle utility types correctly 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle record types correctly 1ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleItem with very long strings 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleItem with special characters 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleFilter with empty string searchTerm 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleFilter with whitespace-only searchTerm 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with empty items array 1ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with large number of items 1ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with unicode characters 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with extreme date values 1ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle type assertions correctly 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle branded types correctly 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle discriminated unions correctly 0ms
 ✓ |2| src/features/example-feature/types.test.ts > Edge cases and validation > should handle deep readonly types 1ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem with all required properties 2ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem with optional description as undefined 1ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleItem type > should create valid ExampleItem without description property 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleItem type > should accept all valid status values 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleItem type > should accept all valid priority values 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData with all required properties 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData with optional description as undefined 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFormData type > should create valid ExampleFormData without description property 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFormData type > should accept all valid priority values 5ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with all properties 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with empty object 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only status 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only priority 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFilter type > should create valid ExampleFilter with only searchTerm 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFilter type > should accept all valid status values 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFilter type > should accept all valid priority values 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleFilter type > should accept empty string as searchTerm 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with all properties 2ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with items 2ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with filter 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with loading state 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleStore type > should create valid ExampleStore with error state 0ms
 ✓ |3| src/features/example-feature/types.test.ts > ExampleStore type > should have properly typed action functions 2ms
 ✓ |3| src/features/example-feature/types.test.ts > Advanced type operations > should handle template literal types 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Advanced type operations > should handle keyof and typeof operations 1ms
 ✓ |3| src/features/example-feature/types.test.ts > Advanced type operations > should handle index signatures and mapped types 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Advanced type operations > should handle function type definitions 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Advanced type operations > should handle conditional types with infer 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Advanced type operations > should handle recursive types 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleItem and ExampleFormData 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleItem and ExampleFilter 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type compatibility and relationships > should use compatible types between ExampleStore and other types 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type compatibility and relationships > should handle cross-type operations seamlessly 1ms
 ✓ |3| src/features/example-feature/types.test.ts > Type compatibility and relationships > should handle type transformations correctly 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleItem type at runtime 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleFormData type at runtime 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should validate ExampleFilter type at runtime 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle partial type updates correctly 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle generic type operations 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle union type operations 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle conditional types 1ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle mapped types correctly 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle utility types correctly 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Type guards and utility functions > should handle record types correctly 1ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleItem with very long strings 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleItem with special characters 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleFilter with empty string searchTerm 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleFilter with whitespace-only searchTerm 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with empty items array 1ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with large number of items 1ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with unicode characters 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle ExampleStore with extreme date values 1ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle type assertions correctly 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle branded types correctly 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle discriminated unions correctly 0ms
 ✓ |3| src/features/example-feature/types.test.ts > Edge cases and validation > should handle deep readonly types 1ms
stderr | tests/integration/database/database-operations.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
🚀 Starting database migration...

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/database/database-operations.test.ts:80:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/database/database-operations.test.ts:80:20

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
✅ No pending migrations

 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should create a task with all required fields 31ms
   → expected undefined to be defined
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should retrieve task by ID 1ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should update task status and metadata 1ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should delete task and cascade to related records 1ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should enforce unique constraints where appropriate 3ms
   → You must provide a Promise to expect() when using .rejects, not 'object'.
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should query tasks with filters and sorting 3ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should create environment with JSON configuration 0ms
   → Cannot read properties of undefined (reading 'config')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should update environment configuration 1ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should toggle environment active status 1ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should query tasks with their executions 1ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should query executions with their events 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should create execution snapshots for debugging 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should handle successful transaction with multiple operations 1ms
   → db.transaction is not a function
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should rollback transaction on error 0ms
   → db.transaction is not a function
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should handle nested transactions correctly 1ms
   → db.transaction is not a function
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should execute complex aggregation queries efficiently 1ms
   → db.select(...).from(...).leftJoin is not a function
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should handle pagination efficiently 1ms
   → db.select(...).from(...).orderBy(...).limit(...).offset is not a function
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should efficiently query with JSON operations 6ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Vector Operations > should handle vector embeddings for tasks 1ms
   → Cannot read properties of undefined (reading 'embedding')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Vector Operations > should handle agent memory with vector embeddings 1ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Workflow Management > should create and manage workflow executions 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Workflow Management > should handle workflow execution hierarchy 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Performance and Stress Tests > should handle bulk operations efficiently 8ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |0| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Performance and Stress Tests > should maintain performance with concurrent operations 1ms
   → Cannot read properties of undefined (reading 'id')
stderr | tests/integration/database/database-operations.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
🚀 Starting database migration...

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/database/database-operations.test.ts:80:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/database/database-operations.test.ts:80:20

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
✅ No pending migrations

 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should create a task with all required fields 13ms
   → expected undefined to be defined
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should retrieve task by ID 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should update task status and metadata 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should delete task and cascade to related records 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should enforce unique constraints where appropriate 3ms
   → You must provide a Promise to expect() when using .rejects, not 'object'.
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should query tasks with filters and sorting 22ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should create environment with JSON configuration 1ms
   → Cannot read properties of undefined (reading 'config')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should update environment configuration 8ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should toggle environment active status 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should query tasks with their executions 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should query executions with their events 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should create execution snapshots for debugging 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should handle successful transaction with multiple operations 8ms
   → db.transaction is not a function
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should rollback transaction on error 2ms
   → db.transaction is not a function
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should handle nested transactions correctly 8ms
   → db.transaction is not a function
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should execute complex aggregation queries efficiently 5ms
   → db.select(...).from(...).leftJoin is not a function
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should handle pagination efficiently 3ms
   → db.select(...).from(...).orderBy(...).limit(...).offset is not a function
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should efficiently query with JSON operations 2ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Vector Operations > should handle vector embeddings for tasks 1ms
   → Cannot read properties of undefined (reading 'embedding')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Vector Operations > should handle agent memory with vector embeddings 7ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Workflow Management > should create and manage workflow executions 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Workflow Management > should handle workflow execution hierarchy 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Performance and Stress Tests > should handle bulk operations efficiently 1ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |1| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Performance and Stress Tests > should maintain performance with concurrent operations 1ms
   → Cannot read properties of undefined (reading 'id')
stderr | tests/integration/database/database-operations.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
🚀 Starting database migration...

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/database/database-operations.test.ts:80:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/database/database-operations.test.ts:80:20

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
✅ No pending migrations

 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should create a task with all required fields 14ms
   → expected undefined to be defined
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should retrieve task by ID 5ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should update task status and metadata 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should delete task and cascade to related records 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should enforce unique constraints where appropriate 6ms
   → You must provide a Promise to expect() when using .rejects, not 'object'.
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should query tasks with filters and sorting 3ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should create environment with JSON configuration 1ms
   → Cannot read properties of undefined (reading 'config')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should update environment configuration 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should toggle environment active status 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should query tasks with their executions 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should query executions with their events 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should create execution snapshots for debugging 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should handle successful transaction with multiple operations 1ms
   → db.transaction is not a function
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should rollback transaction on error 0ms
   → db.transaction is not a function
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should handle nested transactions correctly 1ms
   → db.transaction is not a function
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should execute complex aggregation queries efficiently 1ms
   → db.select(...).from(...).leftJoin is not a function
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should handle pagination efficiently 1ms
   → db.select(...).from(...).orderBy(...).limit(...).offset is not a function
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should efficiently query with JSON operations 9ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Vector Operations > should handle vector embeddings for tasks 1ms
   → Cannot read properties of undefined (reading 'embedding')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Vector Operations > should handle agent memory with vector embeddings 2ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Workflow Management > should create and manage workflow executions 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Workflow Management > should handle workflow execution hierarchy 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Performance and Stress Tests > should handle bulk operations efficiently 1ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |2| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Performance and Stress Tests > should maintain performance with concurrent operations 1ms
   → Cannot read properties of undefined (reading 'id')
stderr | tests/integration/database/database-operations.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
🚀 Starting database migration...

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/database/database-operations.test.ts:80:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/database/database-operations.test.ts:80:20

stderr | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/database/database-operations.test.ts > Database Operations Integration Tests
✅ No pending migrations

 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should create a task with all required fields 13ms
   → expected undefined to be defined
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should retrieve task by ID 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should update task status and metadata 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should delete task and cascade to related records 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should enforce unique constraints where appropriate 3ms
   → You must provide a Promise to expect() when using .rejects, not 'object'.
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Tasks Table > should query tasks with filters and sorting 4ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should create environment with JSON configuration 0ms
   → Cannot read properties of undefined (reading 'config')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should update environment configuration 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Basic CRUD Operations > Environments Table > should toggle environment active status 7ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should query tasks with their executions 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should query executions with their events 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Complex Relationships and Joins > should create execution snapshots for debugging 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should handle successful transaction with multiple operations 1ms
   → db.transaction is not a function
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should rollback transaction on error 0ms
   → db.transaction is not a function
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Transaction Handling > should handle nested transactions correctly 1ms
   → db.transaction is not a function
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should execute complex aggregation queries efficiently 1ms
   → db.select(...).from(...).leftJoin is not a function
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should handle pagination efficiently 1ms
   → db.select(...).from(...).orderBy(...).limit(...).offset is not a function
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Advanced Queries and Performance > should efficiently query with JSON operations 7ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Vector Operations > should handle vector embeddings for tasks 1ms
   → Cannot read properties of undefined (reading 'embedding')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Vector Operations > should handle agent memory with vector embeddings 1ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Workflow Management > should create and manage workflow executions 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Workflow Management > should handle workflow execution hierarchy 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Performance and Stress Tests > should handle bulk operations efficiently 1ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |3| tests/integration/database/database-operations.test.ts > Database Operations Integration Tests > Performance and Stress Tests > should maintain performance with concurrent operations 1ms
   → Cannot read properties of undefined (reading 'id')
stderr | tests/integration/database/data-integrity.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
🚀 Starting database migration...

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/database/data-integrity.test.ts:72:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Migrations table not found, assuming first run

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/database/data-integrity.test.ts:72:20

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Migrations table not found, assuming first run

stdout | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
✅ No pending migrations

 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on task-user relationship 3ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on task-environment relationship 1ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on execution-task relationship 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on event-execution relationship 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should cascade delete when user is deleted 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should cascade delete when task is deleted 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should maintain referential integrity during bulk operations 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce unique constraints on user email 1ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce check constraints on enum values 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce NOT NULL constraints 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce length constraints on text fields 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should validate JSON structure in JSONB fields 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should handle concurrent constraint violations gracefully 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle concurrent reads without data corruption 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle concurrent writes with proper isolation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should prevent race conditions in counter updates 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle deadlocks gracefully 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should maintain consistency during bulk operations 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should provide read committed isolation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should handle serializable conflicts 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should rollback on transaction failure 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate cross-table consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate enum value consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate timestamp consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate business rule consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate unique constraints across related data 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Performance Impact of Integrity Checks > should maintain performance during integrity validation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |0| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Performance Impact of Integrity Checks > should handle large datasets efficiently 0ms
   → Cannot read properties of undefined (reading 'id')
stderr | tests/integration/database/data-integrity.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
🚀 Starting database migration...

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/database/data-integrity.test.ts:72:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Migrations table not found, assuming first run

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/database/data-integrity.test.ts:72:20

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Migrations table not found, assuming first run

stdout | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
✅ No pending migrations

 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on task-user relationship 5ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on task-environment relationship 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on execution-task relationship 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on event-execution relationship 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should cascade delete when user is deleted 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should cascade delete when task is deleted 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should maintain referential integrity during bulk operations 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce unique constraints on user email 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce check constraints on enum values 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce NOT NULL constraints 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce length constraints on text fields 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should validate JSON structure in JSONB fields 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should handle concurrent constraint violations gracefully 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle concurrent reads without data corruption 1ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle concurrent writes with proper isolation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should prevent race conditions in counter updates 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle deadlocks gracefully 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should maintain consistency during bulk operations 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should provide read committed isolation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should handle serializable conflicts 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should rollback on transaction failure 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate cross-table consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate enum value consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate timestamp consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate business rule consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate unique constraints across related data 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Performance Impact of Integrity Checks > should maintain performance during integrity validation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |1| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Performance Impact of Integrity Checks > should handle large datasets efficiently 0ms
   → Cannot read properties of undefined (reading 'id')
stderr | tests/integration/database/data-integrity.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
🚀 Starting database migration...

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/database/data-integrity.test.ts:72:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Migrations table not found, assuming first run

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/database/data-integrity.test.ts:72:20

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Migrations table not found, assuming first run

stdout | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
✅ No pending migrations

 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on task-user relationship 3ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on task-environment relationship 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on execution-task relationship 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on event-execution relationship 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should cascade delete when user is deleted 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should cascade delete when task is deleted 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should maintain referential integrity during bulk operations 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce unique constraints on user email 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce check constraints on enum values 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce NOT NULL constraints 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce length constraints on text fields 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should validate JSON structure in JSONB fields 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should handle concurrent constraint violations gracefully 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle concurrent reads without data corruption 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle concurrent writes with proper isolation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should prevent race conditions in counter updates 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle deadlocks gracefully 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should maintain consistency during bulk operations 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should provide read committed isolation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should handle serializable conflicts 1ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should rollback on transaction failure 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate cross-table consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate enum value consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate timestamp consistency 14ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate business rule consistency 2ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate unique constraints across related data 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Performance Impact of Integrity Checks > should maintain performance during integrity validation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |2| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Performance Impact of Integrity Checks > should handle large datasets efficiently 0ms
   → Cannot read properties of undefined (reading 'id')
stderr | tests/integration/database/data-integrity.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
🚀 Starting database migration...

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/database/data-integrity.test.ts:72:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Migrations table not found, assuming first run

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/database/data-integrity.test.ts:72:20

stderr | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
Migrations table not found, assuming first run

stdout | tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests
✅ No pending migrations

 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on task-user relationship 3ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on task-environment relationship 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on execution-task relationship 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should enforce foreign key constraints on event-execution relationship 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should cascade delete when user is deleted 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should cascade delete when task is deleted 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Referential Integrity Tests > should maintain referential integrity during bulk operations 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce unique constraints on user email 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce check constraints on enum values 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce NOT NULL constraints 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should enforce length constraints on text fields 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should validate JSON structure in JSONB fields 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Constraint Enforcement Tests > should handle concurrent constraint violations gracefully 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle concurrent reads without data corruption 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle concurrent writes with proper isolation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should prevent race conditions in counter updates 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should handle deadlocks gracefully 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Concurrent Operations Tests > should maintain consistency during bulk operations 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should provide read committed isolation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should handle serializable conflicts 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Transaction Isolation Tests > should rollback on transaction failure 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate cross-table consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate enum value consistency 1ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate timestamp consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate business rule consistency 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Data Consistency Validation > should validate unique constraints across related data 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Performance Impact of Integrity Checks > should maintain performance during integrity validation 0ms
   → Cannot read properties of undefined (reading 'id')
 × |3| tests/integration/database/data-integrity.test.ts > Data Integrity Validation Tests > Performance Impact of Integrity Checks > should handle large datasets efficiently 0ms
   → Cannot read properties of undefined (reading 'id')
stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should establish connection to ElectricSQL sync service
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should handle connection failures gracefully
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should reconnect automatically after disconnection
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should manage connection state listeners
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle real-time updates via subscriptions
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle sync progress and completion events
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should resolve conflicts using last-write-wins strategy
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle custom conflict resolution for agent memory
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle server-wins strategy for observability data
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should merge conflicting metadata fields
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should establish connection to ElectricSQL sync service 36ms
   → expected "spy" to be called at least once
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should handle connection failures gracefully 7ms
   → promise resolved "undefined" instead of rejecting
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should reconnect automatically after disconnection 9ms
   → expected 'disconnected' to be 'connected' // Object.is equality
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should manage connection state listeners 3ms
   → expected "spy" to be called with arguments: [ { connection: 'connected', …(1) } ][90m

Number of calls: [1m0[22m
[39m
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client 31ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle real-time updates via subscriptions 2ms
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle sync progress and completion events 2ms
   → expected "spy" to be called at least once
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should resolve conflicts using last-write-wins strategy 1ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle custom conflict resolution for agent memory 1ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle server-wins strategy for observability data 1ms
stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should queue operations while offline
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should sync queued operations when coming back online
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should handle offline storage limits
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should detect network status changes
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should manage real-time subscriptions by user
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should filter subscription events correctly
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription errors gracefully
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription reconnection after network issues
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should validate data before sync
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should maintain referential integrity during sync
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should handle schema version compatibility
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should merge conflicting metadata fields 3ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should queue operations while offline 2ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should sync queued operations when coming back online 1ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should handle offline storage limits 3ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should detect network status changes 1ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should manage real-time subscriptions by user 1ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should filter subscription events correctly 1ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription errors gracefully 1ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription reconnection after network issues 1ms
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should validate data before sync 1ms
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should maintain referential integrity during sync 2ms
   → Cannot read properties of undefined (reading 'set')
 ✓ |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should handle schema version compatibility 1ms
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency 1ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |0| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server 4ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should establish connection to ElectricSQL sync service
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should handle connection failures gracefully
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should reconnect automatically after disconnection
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should manage connection state listeners
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle real-time updates via subscriptions
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle sync progress and completion events
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should resolve conflicts using last-write-wins strategy
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle custom conflict resolution for agent memory
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle server-wins strategy for observability data
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should merge conflicting metadata fields
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should queue operations while offline
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should establish connection to ElectricSQL sync service 52ms
   → expected "spy" to be called at least once
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should handle connection failures gracefully 6ms
   → promise resolved "undefined" instead of rejecting
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should reconnect automatically after disconnection 6ms
   → expected 'disconnected' to be 'connected' // Object.is equality
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should manage connection state listeners 3ms
   → expected "spy" to be called with arguments: [ { connection: 'connected', …(1) } ][90m

Number of calls: [1m0[22m
[39m
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client 19ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle real-time updates via subscriptions 2ms
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle sync progress and completion events 2ms
   → expected "spy" to be called at least once
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should resolve conflicts using last-write-wins strategy 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle custom conflict resolution for agent memory 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle server-wins strategy for observability data 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should merge conflicting metadata fields 1ms
stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should sync queued operations when coming back online
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should handle offline storage limits
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should detect network status changes
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should manage real-time subscriptions by user
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should filter subscription events correctly
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription errors gracefully
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription reconnection after network issues
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should validate data before sync
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should maintain referential integrity during sync
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should handle schema version compatibility
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should queue operations while offline 3ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should sync queued operations when coming back online 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should handle offline storage limits 4ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should detect network status changes 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should manage real-time subscriptions by user 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should filter subscription events correctly 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription errors gracefully 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription reconnection after network issues 1ms
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should validate data before sync 1ms
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should maintain referential integrity during sync 2ms
   → Cannot read properties of undefined (reading 'set')
 ✓ |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should handle schema version compatibility 1ms
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency 1ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely 3ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |1| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server 4ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should establish connection to ElectricSQL sync service
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should handle connection failures gracefully
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should establish connection to ElectricSQL sync service 95ms
   → expected "spy" to be called at least once
stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should reconnect automatically after disconnection
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should manage connection state listeners
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle real-time updates via subscriptions
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle sync progress and completion events
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should resolve conflicts using last-write-wins strategy
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle custom conflict resolution for agent memory
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle server-wins strategy for observability data
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should merge conflicting metadata fields
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should queue operations while offline
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should sync queued operations when coming back online
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should handle offline storage limits
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should detect network status changes
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should manage real-time subscriptions by user
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should filter subscription events correctly
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription errors gracefully
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription reconnection after network issues
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should validate data before sync
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should maintain referential integrity during sync
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should handle schema version compatibility
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should handle connection failures gracefully 13ms
   → promise resolved "undefined" instead of rejecting
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should reconnect automatically after disconnection 7ms
   → expected 'disconnected' to be 'connected' // Object.is equality
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should manage connection state listeners 3ms
   → expected "spy" to be called with arguments: [ { connection: 'connected', …(1) } ][90m

Number of calls: [1m0[22m
[39m
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client 39ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle real-time updates via subscriptions 2ms
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle sync progress and completion events 2ms
   → expected "spy" to be called at least once
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should resolve conflicts using last-write-wins strategy 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle custom conflict resolution for agent memory 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle server-wins strategy for observability data 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should merge conflicting metadata fields 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should queue operations while offline 2ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should sync queued operations when coming back online 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should handle offline storage limits 2ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should detect network status changes 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should manage real-time subscriptions by user 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should filter subscription events correctly 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription errors gracefully 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription reconnection after network issues 1ms
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should validate data before sync 1ms
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should maintain referential integrity during sync 2ms
   → Cannot read properties of undefined (reading 'set')
 ✓ |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should handle schema version compatibility 1ms
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency 1ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely 3ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |2| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server 4ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should establish connection to ElectricSQL sync service
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should handle connection failures gracefully
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should reconnect automatically after disconnection
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should manage connection state listeners
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?
      at loadAndTransform [90m(file:///root/repo/[39mnode_modules/[4mvite[24m/dist/node/chunks/dep-Bg4HVnP5.js:26447:33[90m)[39m
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle real-time updates via subscriptions
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle sync progress and completion events
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should resolve conflicts using last-write-wins strategy
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle custom conflict resolution for agent memory
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle server-wins strategy for observability data
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should merge conflicting metadata fields
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should queue operations while offline
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should sync queued operations when coming back online
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should handle offline storage limits
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should establish connection to ElectricSQL sync service 36ms
   → expected "spy" to be called at least once
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should handle connection failures gracefully 7ms
   → promise resolved "undefined" instead of rejecting
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should reconnect automatically after disconnection 8ms
   → expected 'disconnected' to be 'connected' // Object.is equality
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Connection Management > should manage connection state listeners 2ms
   → expected "spy" to be called with arguments: [ { connection: 'connected', …(1) } ][90m

Number of calls: [1m0[22m
[39m
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync new tasks from server to client 28ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should sync local changes to server 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle real-time updates via subscriptions 2ms
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should batch sync operations for efficiency 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Real-time Synchronization > should handle sync progress and completion events 2ms
   → expected "spy" to be called at least once
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should resolve conflicts using last-write-wins strategy 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle custom conflict resolution for agent memory 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should handle server-wins strategy for observability data 2ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Conflict Resolution > should merge conflicting metadata fields 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should queue operations while offline 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should sync queued operations when coming back online 1ms
stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should detect network status changes
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should manage real-time subscriptions by user
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should filter subscription events correctly
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription errors gracefully
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription reconnection after network issues
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should validate data before sync
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should maintain referential integrity during sync
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should handle schema version compatibility
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server
⚠️ Failed to initialize real-time sync, using fallback mode: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

stderr | tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}
Sync failed: Error: Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
    at VitestExecutor._fetchModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:247:19[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:268:44[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m
    at [90m/root/repo/[39mlib/electric/realtime-sync.ts:8:1
    at VitestExecutor.runModule [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:397:4[90m)[39m
    at VitestExecutor.directRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:375:3[90m)[39m
    at VitestExecutor.cachedRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:189:11[90m)[39m
    at VitestExecutor.dependencyRequest [90m(file:///root/repo/[39mnode_modules/[4mvite-node[24m/dist/client.mjs:239:10[90m)[39m {
  code: [32m'ERR_MODULE_NOT_FOUND'[39m,
  [cause]: [Object: null prototype] {
    stack: [32m'Error: Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?\n'[39m +
      [32m'    at loadAndTransform (file:///root/repo/node_modules/vite/dist/node/chunks/dep-Bg4HVnP5.js:26447:33)'[39m,
    message: [32m'Failed to load url @/lib/observability (resolved id: @/lib/observability) in /root/repo/lib/electric/realtime-sync.ts. Does the file exist?'[39m,
    constructor: [32m'Function<Error>'[39m,
    name: [32m'Error'[39m,
    toString: [32m'Function<toString>'[39m
  }
}

 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should handle offline storage limits 4ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Offline/Online Transitions > should detect network status changes 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should manage real-time subscriptions by user 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should filter subscription events correctly 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription errors gracefully 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Subscription Management > should handle subscription reconnection after network issues 1ms
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should validate data before sync 1ms
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should maintain referential integrity during sync 2ms
   → Cannot read properties of undefined (reading 'set')
 ✓ |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Data Validation and Consistency > should handle schema version compatibility 1ms
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle large dataset synchronization efficiently 2ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement incremental sync for efficiency 1ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should handle concurrent sync operations safely 3ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 × |3| tests/integration/electric/electric-sync.test.ts > ElectricSQL Synchronization Tests > Performance and Scalability > should implement sync throttling to prevent overwhelming the server 5ms
   → Cannot find package '@/lib/observability' imported from '/root/repo/lib/electric/realtime-sync.ts'
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should generate consistent embeddings for same text 9ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should generate different embeddings for different texts 2ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should handle different model sizes 4ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should normalize vectors correctly 1ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should handle batch embedding generation efficiently 25ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should preserve metadata in embeddings 1ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should add vectors to index 2ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should remove vectors from index 1ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should build different index types 302ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should optimize index to reduce memory usage 153ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should handle large vector sets efficiently 129ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should find similar vectors by vector query 103ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should find similar vectors by text query 103ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should filter search results by metadata 103ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should respect similarity threshold 103ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should handle empty search results gracefully 101ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should provide accurate distance metrics 102ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should calculate cosine similarity correctly 0ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should calculate euclidean distance correctly 0ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should handle vectors of different dimensions 0ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should measure search performance across different index sizes 403ms
stdout | tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should compare performance across different index types
flat index - Query time: 0.04440519999999424ms, Throughput: 22519.885058509582 QPS
ivf index - Query time: 0.03873854999999367ms, Throughput: 25814.079256971763 QPS
hnsw index - Query time: 0.04042810000000827ms, Throughput: 24735.270764636363 QPS

 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should compare performance across different index types 306ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should handle memory constraints efficiently 9ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should maintain accuracy under different conditions 103ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle invalid vector dimensions 1ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle empty queries gracefully 0ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle very long text inputs 3ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle special characters and unicode 1ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle concurrent search operations 103ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle index corruption gracefully 101ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Integration with Database Schema > should work with task metadata vectors 124ms
 ✓ |0| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Integration with Database Schema > should handle environment configuration vectors 1ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should generate consistent embeddings for same text 9ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should generate different embeddings for different texts 1ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should handle different model sizes 1ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should normalize vectors correctly 1ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should handle batch embedding generation efficiently 29ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should preserve metadata in embeddings 1ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should add vectors to index 2ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should remove vectors from index 12ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should build different index types 303ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should optimize index to reduce memory usage 152ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should handle large vector sets efficiently 144ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should find similar vectors by vector query 106ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should find similar vectors by text query 106ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should filter search results by metadata 101ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should respect similarity threshold 103ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should handle empty search results gracefully 101ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should provide accurate distance metrics 103ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should calculate cosine similarity correctly 0ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should calculate euclidean distance correctly 0ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should handle vectors of different dimensions 0ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should measure search performance across different index sizes 408ms
stdout | tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should compare performance across different index types
flat index - Query time: 0.03835424999999759ms, Throughput: 26072.729880001898 QPS
ivf index - Query time: 0.038318050000020774ms, Throughput: 26097.36142625885 QPS
hnsw index - Query time: 0.0363990000000058ms, Throughput: 27473.282233024 QPS

 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should compare performance across different index types 307ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should handle memory constraints efficiently 10ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should maintain accuracy under different conditions 104ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle invalid vector dimensions 1ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle empty queries gracefully 1ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle very long text inputs 6ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle special characters and unicode 1ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle concurrent search operations 106ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle index corruption gracefully 100ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Integration with Database Schema > should work with task metadata vectors 101ms
 ✓ |1| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Integration with Database Schema > should handle environment configuration vectors 1ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should generate consistent embeddings for same text 24ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should generate different embeddings for different texts 1ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should handle different model sizes 9ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should normalize vectors correctly 3ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should handle batch embedding generation efficiently 31ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should preserve metadata in embeddings 1ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should add vectors to index 1ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should remove vectors from index 1ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should build different index types 303ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should optimize index to reduce memory usage 154ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should handle large vector sets efficiently 151ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should find similar vectors by vector query 104ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should find similar vectors by text query 112ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should filter search results by metadata 103ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should respect similarity threshold 103ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should handle empty search results gracefully 105ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should provide accurate distance metrics 102ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should calculate cosine similarity correctly 1ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should calculate euclidean distance correctly 0ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should handle vectors of different dimensions 0ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should measure search performance across different index sizes 557ms
stdout | tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should compare performance across different index types
flat index - Query time: 0.039240049999989424ms, Throughput: 25484.167323952683 QPS
ivf index - Query time: 0.03624445000000378ms, Throughput: 27590.431086687637 QPS
hnsw index - Query time: 0.04027269999999135ms, Throughput: 24830.716589655396 QPS

 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should compare performance across different index types 307ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should handle memory constraints efficiently 24ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should maintain accuracy under different conditions 103ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle invalid vector dimensions 1ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle empty queries gracefully 1ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle very long text inputs 2ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle special characters and unicode 7ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle concurrent search operations 104ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle index corruption gracefully 101ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Integration with Database Schema > should work with task metadata vectors 101ms
 ✓ |2| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Integration with Database Schema > should handle environment configuration vectors 1ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should generate consistent embeddings for same text 12ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should generate different embeddings for different texts 4ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should handle different model sizes 3ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should normalize vectors correctly 1ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should handle batch embedding generation efficiently 38ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Embedding Generation Tests > should preserve metadata in embeddings 0ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should add vectors to index 1ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should remove vectors from index 1ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should build different index types 304ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should optimize index to reduce memory usage 153ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Vector Index Management Tests > should handle large vector sets efficiently 164ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should find similar vectors by vector query 117ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should find similar vectors by text query 103ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should filter search results by metadata 101ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should respect similarity threshold 101ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should handle empty search results gracefully 102ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Similarity Search Tests > should provide accurate distance metrics 102ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should calculate cosine similarity correctly 0ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should calculate euclidean distance correctly 0ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Distance Metrics Tests > should handle vectors of different dimensions 0ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should measure search performance across different index sizes 428ms
stdout | tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should compare performance across different index types
flat index - Query time: 0.06923600000000078ms, Throughput: 14443.353168871521 QPS
ivf index - Query time: 0.05506195000000389ms, Throughput: 18161.36188420369 QPS
hnsw index - Query time: 0.041472799999996826ms, Throughput: 24112.189193883136 QPS

 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should compare performance across different index types 306ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should handle memory constraints efficiently 17ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Performance Benchmarking Tests > should maintain accuracy under different conditions 103ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle invalid vector dimensions 1ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle empty queries gracefully 0ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle very long text inputs 2ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle special characters and unicode 13ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle concurrent search operations 104ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Error Handling and Edge Cases > should handle index corruption gracefully 101ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Integration with Database Schema > should work with task metadata vectors 101ms
 ✓ |3| tests/integration/wasm/wasm-vector-search.test.ts > WASM Vector Search Integration Tests > Integration with Database Schema > should handle environment configuration vectors 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should validate valid product variant 7ms
 ✓ |0| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should use default values 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should reject negative price 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should reject negative inventory 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should validate valid product 3ms
 ✓ |0| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject invalid handle 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject product with no variants 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject too many options 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should validate valid social link 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should use default values 0ms
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should reject invalid platform 2ms
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should reject invalid URL 0ms
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > NotificationPreferencesSchema > should validate valid notification preferences 2ms
 × |0| src/schemas/complex-examples.test.ts > User Profile Schemas > NotificationPreferencesSchema > should use default values 18ms
   → expected undefined to be true // Object.is equality
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should validate valid user profile 26ms
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject invalid email 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject invalid username 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject too many social links 1ms
 × |0| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should validate valid question 6ms
   → expected false to be true // Object.is equality
 ✓ |0| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should reject select question without options 0ms
 × |0| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should accept text question without options 2ms
   → expected false to be true // Object.is equality
 × |0| src/schemas/complex-examples.test.ts > Survey Schemas > SurveySchema > should validate valid survey 3ms
   → expected false to be true // Object.is equality
 ✓ |0| src/schemas/complex-examples.test.ts > Survey Schemas > SurveySchema > should reject survey without questions 0ms
 × |0| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should validate valid form field 3ms
   → expected false to be true // Object.is equality
 ✓ |0| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should reject invalid field name 0ms
 ✓ |0| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should reject field name with spaces 0ms
 × |0| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should accept valid field name patterns 1ms
   → expected false to be true // Object.is equality
 × |0| src/schemas/complex-examples.test.ts > Form Schemas > FormSchema > should validate valid form 5ms
   → expected false to be true // Object.is equality
 ✓ |0| src/schemas/complex-examples.test.ts > Form Schemas > FormSchema > should reject form without fields 0ms
 ✓ |0| src/schemas/complex-examples.test.ts > Utility Functions > validateNestedSchema > should validate valid nested data 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Utility Functions > validateNestedSchema > should return errors for invalid nested data 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should show field when condition is met 0ms
 ✓ |0| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should hide field when condition is not met 0ms
 ✓ |0| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should make field required when condition is met 0ms
 ✓ |0| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should handle multiple conditions 0ms
 ✓ |0| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should handle different operators 1ms
 ✓ |0| src/schemas/complex-examples.test.ts > Type Inference > should infer correct types 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should validate valid product variant 21ms
 ✓ |1| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should use default values 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should reject negative price 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should reject negative inventory 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should validate valid product 4ms
 ✓ |1| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject invalid handle 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject product with no variants 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject too many options 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should validate valid social link 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should use default values 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should reject invalid platform 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should reject invalid URL 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > NotificationPreferencesSchema > should validate valid notification preferences 1ms
 × |1| src/schemas/complex-examples.test.ts > User Profile Schemas > NotificationPreferencesSchema > should use default values 26ms
   → expected undefined to be true // Object.is equality
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should validate valid user profile 7ms
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject invalid email 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject invalid username 2ms
 ✓ |1| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject too many social links 1ms
 × |1| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should validate valid question 5ms
   → expected false to be true // Object.is equality
 ✓ |1| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should reject select question without options 0ms
 × |1| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should accept text question without options 1ms
   → expected false to be true // Object.is equality
 × |1| src/schemas/complex-examples.test.ts > Survey Schemas > SurveySchema > should validate valid survey 4ms
   → expected false to be true // Object.is equality
 ✓ |1| src/schemas/complex-examples.test.ts > Survey Schemas > SurveySchema > should reject survey without questions 0ms
 × |1| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should validate valid form field 3ms
   → expected false to be true // Object.is equality
 ✓ |1| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should reject invalid field name 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should reject field name with spaces 0ms
 × |1| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should accept valid field name patterns 1ms
   → expected false to be true // Object.is equality
 × |1| src/schemas/complex-examples.test.ts > Form Schemas > FormSchema > should validate valid form 3ms
   → expected false to be true // Object.is equality
 ✓ |1| src/schemas/complex-examples.test.ts > Form Schemas > FormSchema > should reject form without fields 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > Utility Functions > validateNestedSchema > should validate valid nested data 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > Utility Functions > validateNestedSchema > should return errors for invalid nested data 1ms
 ✓ |1| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should show field when condition is met 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should hide field when condition is not met 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should make field required when condition is met 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should handle multiple conditions 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should handle different operators 0ms
 ✓ |1| src/schemas/complex-examples.test.ts > Type Inference > should infer correct types 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should validate valid product variant 12ms
 ✓ |2| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should use default values 4ms
 ✓ |2| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should reject negative price 1ms
 ✓ |2| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should reject negative inventory 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should validate valid product 3ms
 ✓ |2| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject invalid handle 3ms
 ✓ |2| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject product with no variants 2ms
 ✓ |2| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject too many options 4ms
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should validate valid social link 1ms
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should use default values 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should reject invalid platform 1ms
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should reject invalid URL 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > NotificationPreferencesSchema > should validate valid notification preferences 2ms
 × |2| src/schemas/complex-examples.test.ts > User Profile Schemas > NotificationPreferencesSchema > should use default values 30ms
   → expected undefined to be true // Object.is equality
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should validate valid user profile 12ms
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject invalid email 1ms
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject invalid username 1ms
 ✓ |2| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject too many social links 1ms
 × |2| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should validate valid question 5ms
   → expected false to be true // Object.is equality
 ✓ |2| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should reject select question without options 0ms
 × |2| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should accept text question without options 1ms
   → expected false to be true // Object.is equality
 × |2| src/schemas/complex-examples.test.ts > Survey Schemas > SurveySchema > should validate valid survey 4ms
   → expected false to be true // Object.is equality
 ✓ |2| src/schemas/complex-examples.test.ts > Survey Schemas > SurveySchema > should reject survey without questions 1ms
 × |2| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should validate valid form field 4ms
   → expected false to be true // Object.is equality
 ✓ |2| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should reject invalid field name 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should reject field name with spaces 0ms
 × |2| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should accept valid field name patterns 1ms
   → expected false to be true // Object.is equality
 × |2| src/schemas/complex-examples.test.ts > Form Schemas > FormSchema > should validate valid form 5ms
   → expected false to be true // Object.is equality
 ✓ |2| src/schemas/complex-examples.test.ts > Form Schemas > FormSchema > should reject form without fields 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Utility Functions > validateNestedSchema > should validate valid nested data 1ms
 ✓ |2| src/schemas/complex-examples.test.ts > Utility Functions > validateNestedSchema > should return errors for invalid nested data 1ms
 ✓ |2| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should show field when condition is met 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should hide field when condition is not met 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should make field required when condition is met 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should handle multiple conditions 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should handle different operators 0ms
 ✓ |2| src/schemas/complex-examples.test.ts > Type Inference > should infer correct types 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should validate valid product variant 32ms
 ✓ |3| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should use default values 1ms
 ✓ |3| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should reject negative price 6ms
 ✓ |3| src/schemas/complex-examples.test.ts > Product Schemas > ProductVariantSchema > should reject negative inventory 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should validate valid product 14ms
 ✓ |3| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject invalid handle 7ms
 ✓ |3| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject product with no variants 2ms
 ✓ |3| src/schemas/complex-examples.test.ts > Product Schemas > ProductSchema > should reject too many options 1ms
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should validate valid social link 3ms
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should use default values 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should reject invalid platform 1ms
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > SocialLinkSchema > should reject invalid URL 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > NotificationPreferencesSchema > should validate valid notification preferences 13ms
 × |3| src/schemas/complex-examples.test.ts > User Profile Schemas > NotificationPreferencesSchema > should use default values 50ms
   → expected undefined to be true // Object.is equality
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should validate valid user profile 10ms
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject invalid email 1ms
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject invalid username 1ms
 ✓ |3| src/schemas/complex-examples.test.ts > User Profile Schemas > UserProfileSchema > should reject too many social links 1ms
 × |3| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should validate valid question 22ms
   → expected false to be true // Object.is equality
 ✓ |3| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should reject select question without options 0ms
 × |3| src/schemas/complex-examples.test.ts > Survey Schemas > QuestionSchema > should accept text question without options 7ms
   → expected false to be true // Object.is equality
 × |3| src/schemas/complex-examples.test.ts > Survey Schemas > SurveySchema > should validate valid survey 4ms
   → expected false to be true // Object.is equality
 ✓ |3| src/schemas/complex-examples.test.ts > Survey Schemas > SurveySchema > should reject survey without questions 0ms
 × |3| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should validate valid form field 4ms
   → expected false to be true // Object.is equality
 ✓ |3| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should reject invalid field name 1ms
 ✓ |3| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should reject field name with spaces 0ms
 × |3| src/schemas/complex-examples.test.ts > Form Schemas > FormFieldSchema > should accept valid field name patterns 1ms
   → expected false to be true // Object.is equality
 × |3| src/schemas/complex-examples.test.ts > Form Schemas > FormSchema > should validate valid form 3ms
   → expected false to be true // Object.is equality
 ✓ |3| src/schemas/complex-examples.test.ts > Form Schemas > FormSchema > should reject form without fields 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > Utility Functions > validateNestedSchema > should validate valid nested data 1ms
 ✓ |3| src/schemas/complex-examples.test.ts > Utility Functions > validateNestedSchema > should return errors for invalid nested data 1ms
 ✓ |3| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should show field when condition is met 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should hide field when condition is not met 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should make field required when condition is met 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should handle multiple conditions 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > Utility Functions > validateConditionalField > should handle different operators 0ms
 ✓ |3| src/schemas/complex-examples.test.ts > Type Inference > should infer correct types 0ms
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should load migration files correctly 11ms
   → readdirSync is not defined
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should parse migration file format correctly 2ms
   → readdirSync is not defined
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should handle malformed migration files 28ms
   → expected [Function] to throw error including 'Invalid migration file format' but got 'readdirSync is not defined'
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should generate checksums consistently 1ms
   → readdirSync is not defined
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should validate clean migration set 4ms
   → expected false to be true // Object.is equality
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect SQL syntax errors 2ms
   → expected false to be true // Object.is equality
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should warn about dangerous operations 1ms
   → expected false to be true // Object.is equality
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect missing rollback SQL 2ms
   → expected false to be true // Object.is equality
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect duplicate migration names 2ms
   → expected false to be true // Object.is equality
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should validate checksum integrity 2ms
   → expected false to be true // Object.is equality
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should execute migrations successfully 2ms
   → expected [] to have a length of 3 but got +0
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should skip already executed migrations 1ms
   → expected [] to have a length of 3 but got +0
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should handle migration failure and rollback 2ms
   → expected true to be false // Object.is equality
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should execute migrations in correct order 4ms
   → expected [] to deeply equal [ '001_create_test_table', …(3) ]
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should track execution time and metadata 2ms
   → actual value must be number or bigint, received "undefined"
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should rollback last migration successfully 4ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle rollback when no migrations exist 1ms
   → testRunner.rollback is not a function
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle missing rollback SQL 1ms
   → testRunner.rollback is not a function
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle rollback failure gracefully 1ms
   → testRunner.rollback is not a function
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should provide accurate migration status 1ms
   → testRunner.getStatus is not a function
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should create new migration files 1ms
   → testRunner.createMigration is not a function
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should validate database schema integrity 1ms
   → testRunner.validateSchema is not a function
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should provide database statistics 1ms
   → testRunner.getDatabaseStats is not a function
 ✓ |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Backup and Recovery > should create backup points before migrations 1ms
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Backup and Recovery > should cleanup old backup files 2ms
   → expected 50 to be less than or equal to 5
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should optimize database after migrations 1ms
   → testRunner.optimizeDatabase is not a function
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should handle large migration files efficiently 2ms
   → expected NaN to be 1000 // Object.is equality
 × |0| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should handle concurrent migration attempts safely 2ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should load migration files correctly 16ms
   → readdirSync is not defined
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should parse migration file format correctly 1ms
   → readdirSync is not defined
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should handle malformed migration files 9ms
   → expected [Function] to throw error including 'Invalid migration file format' but got 'readdirSync is not defined'
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should generate checksums consistently 1ms
   → readdirSync is not defined
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should validate clean migration set 4ms
   → expected false to be true // Object.is equality
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect SQL syntax errors 2ms
   → expected false to be true // Object.is equality
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should warn about dangerous operations 1ms
   → expected false to be true // Object.is equality
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect missing rollback SQL 1ms
   → expected false to be true // Object.is equality
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect duplicate migration names 1ms
   → expected false to be true // Object.is equality
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should validate checksum integrity 1ms
   → expected false to be true // Object.is equality
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should execute migrations successfully 2ms
   → expected [] to have a length of 3 but got +0
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should skip already executed migrations 1ms
   → expected [] to have a length of 3 but got +0
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should handle migration failure and rollback 2ms
   → expected true to be false // Object.is equality
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should execute migrations in correct order 4ms
   → expected [] to deeply equal [ '001_create_test_table', …(3) ]
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should track execution time and metadata 1ms
   → actual value must be number or bigint, received "undefined"
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should rollback last migration successfully 3ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle rollback when no migrations exist 1ms
   → testRunner.rollback is not a function
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle missing rollback SQL 1ms
   → testRunner.rollback is not a function
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle rollback failure gracefully 1ms
   → testRunner.rollback is not a function
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should provide accurate migration status 1ms
   → testRunner.getStatus is not a function
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should create new migration files 1ms
   → testRunner.createMigration is not a function
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should validate database schema integrity 1ms
   → testRunner.validateSchema is not a function
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should provide database statistics 1ms
   → testRunner.getDatabaseStats is not a function
 ✓ |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Backup and Recovery > should create backup points before migrations 1ms
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Backup and Recovery > should cleanup old backup files 2ms
   → expected 60 to be less than or equal to 5
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should optimize database after migrations 1ms
   → testRunner.optimizeDatabase is not a function
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should handle large migration files efficiently 2ms
   → expected NaN to be 1000 // Object.is equality
 × |1| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should handle concurrent migration attempts safely 1ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should load migration files correctly 27ms
   → readdirSync is not defined
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should parse migration file format correctly 2ms
   → readdirSync is not defined
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should handle malformed migration files 16ms
   → expected [Function] to throw error including 'Invalid migration file format' but got 'readdirSync is not defined'
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should generate checksums consistently 2ms
   → readdirSync is not defined
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should validate clean migration set 5ms
   → expected false to be true // Object.is equality
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect SQL syntax errors 2ms
   → expected false to be true // Object.is equality
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should warn about dangerous operations 1ms
   → expected false to be true // Object.is equality
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect missing rollback SQL 1ms
   → expected false to be true // Object.is equality
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect duplicate migration names 2ms
   → expected false to be true // Object.is equality
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should validate checksum integrity 2ms
   → expected false to be true // Object.is equality
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should execute migrations successfully 2ms
   → expected [] to have a length of 3 but got +0
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should skip already executed migrations 2ms
   → expected [] to have a length of 3 but got +0
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should handle migration failure and rollback 2ms
   → expected true to be false // Object.is equality
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should execute migrations in correct order 4ms
   → expected [] to deeply equal [ '001_create_test_table', …(3) ]
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should track execution time and metadata 2ms
   → actual value must be number or bigint, received "undefined"
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should rollback last migration successfully 3ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle rollback when no migrations exist 1ms
   → testRunner.rollback is not a function
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle missing rollback SQL 1ms
   → testRunner.rollback is not a function
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle rollback failure gracefully 1ms
   → testRunner.rollback is not a function
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should provide accurate migration status 1ms
   → testRunner.getStatus is not a function
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should create new migration files 1ms
   → testRunner.createMigration is not a function
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should validate database schema integrity 1ms
   → testRunner.validateSchema is not a function
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should provide database statistics 1ms
   → testRunner.getDatabaseStats is not a function
 ✓ |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Backup and Recovery > should create backup points before migrations 1ms
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Backup and Recovery > should cleanup old backup files 2ms
   → expected 70 to be less than or equal to 5
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should optimize database after migrations 1ms
   → testRunner.optimizeDatabase is not a function
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should handle large migration files efficiently 3ms
   → expected NaN to be 1000 // Object.is equality
 × |2| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should handle concurrent migration attempts safely 2ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should load migration files correctly 14ms
   → readdirSync is not defined
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should parse migration file format correctly 1ms
   → readdirSync is not defined
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should handle malformed migration files 12ms
   → expected [Function] to throw error including 'Invalid migration file format' but got 'readdirSync is not defined'
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration File Management > should generate checksums consistently 4ms
   → readdirSync is not defined
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should validate clean migration set 4ms
   → expected false to be true // Object.is equality
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect SQL syntax errors 2ms
   → expected false to be true // Object.is equality
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should warn about dangerous operations 1ms
   → expected false to be true // Object.is equality
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect missing rollback SQL 1ms
   → expected false to be true // Object.is equality
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should detect duplicate migration names 1ms
   → expected false to be true // Object.is equality
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Validation > should validate checksum integrity 2ms
   → expected false to be true // Object.is equality
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should execute migrations successfully 2ms
   → expected [] to have a length of 3 but got +0
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should skip already executed migrations 1ms
   → expected [] to have a length of 3 but got +0
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should handle migration failure and rollback 2ms
   → expected true to be false // Object.is equality
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should execute migrations in correct order 4ms
   → expected [] to deeply equal [ '001_create_test_table', …(3) ]
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Execution > should track execution time and metadata 1ms
   → actual value must be number or bigint, received "undefined"
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should rollback last migration successfully 3ms
   → expected { select: [Function spy], …(11) } to have property 'length'
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle rollback when no migrations exist 1ms
   → testRunner.rollback is not a function
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle missing rollback SQL 5ms
   → testRunner.rollback is not a function
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Rollback > should handle rollback failure gracefully 1ms
   → testRunner.rollback is not a function
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should provide accurate migration status 1ms
   → testRunner.getStatus is not a function
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should create new migration files 1ms
   → testRunner.createMigration is not a function
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should validate database schema integrity 1ms
   → testRunner.validateSchema is not a function
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Migration Status and Information > should provide database statistics 2ms
   → testRunner.getDatabaseStats is not a function
 ✓ |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Backup and Recovery > should create backup points before migrations 1ms
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Backup and Recovery > should cleanup old backup files 2ms
   → expected 80 to be less than or equal to 5
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should optimize database after migrations 1ms
   → testRunner.optimizeDatabase is not a function
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should handle large migration files efficiently 2ms
   → expected NaN to be 1000 // Object.is equality
 × |3| tests/integration/database/migration-system.test.ts > Migration System Integration Tests > Performance and Optimization > should handle concurrent migration attempts safely 2ms
   → expected { select: [Function spy], …(11) } to have property 'length'
stderr | tests/integration/performance/performance-monitoring.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
🚀 Starting database migration...

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:207:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:207:20

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
✅ No pending migrations

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure query performance for simple selects
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure query performance for simple selects 349ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure join query performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure join query performance 298ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure aggregate query performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure aggregate query performance 295ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should handle bulk insert performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should handle bulk insert performance 296ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure transaction performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent read operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure transaction performance 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent read operations 297ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent write operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent write operations 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle mixed read/write workload
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle mixed read/write workload 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should measure system performance under stress
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should measure system performance under stress 302ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should monitor memory usage during operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should monitor memory usage during operations 295ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should detect memory leaks in repeated operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should detect memory leaks in repeated operations 295ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should analyze response time distribution
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should measure database connection pool performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should analyze response time distribution 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should measure database connection pool performance 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should monitor overall system health
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should monitor overall system health 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should track performance metrics over time
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should track performance metrics over time 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should identify performance bottlenecks
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should identify performance bottlenecks 298ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Performance Regression Detection > should detect performance regression
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |0| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Performance Regression Detection > should detect performance regression 298ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:223:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:223:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
🚀 Starting database migration...

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:207:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:207:20

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
✅ No pending migrations

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure query performance for simple selects
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure query performance for simple selects 308ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure join query performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure join query performance 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure aggregate query performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure aggregate query performance 297ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should handle bulk insert performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should handle bulk insert performance 296ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure transaction performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure transaction performance 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent read operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent write operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent read operations 295ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent write operations 295ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle mixed read/write workload
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should measure system performance under stress
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle mixed read/write workload 291ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should measure system performance under stress 297ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should monitor memory usage during operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should detect memory leaks in repeated operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should monitor memory usage during operations 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should detect memory leaks in repeated operations 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should analyze response time distribution
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should analyze response time distribution 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should measure database connection pool performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should monitor overall system health
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should measure database connection pool performance 291ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should monitor overall system health 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should track performance metrics over time
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should track performance metrics over time 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should identify performance bottlenecks
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should identify performance bottlenecks 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Performance Regression Detection > should detect performance regression
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |1| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Performance Regression Detection > should detect performance regression 291ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:223:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:223:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
🚀 Starting database migration...

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:207:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:207:20

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
✅ No pending migrations

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure query performance for simple selects
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure query performance for simple selects 335ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure join query performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure join query performance 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure aggregate query performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure aggregate query performance 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should handle bulk insert performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should handle bulk insert performance 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure transaction performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent read operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure transaction performance 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent read operations 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent write operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent write operations 291ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle mixed read/write workload
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle mixed read/write workload 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should measure system performance under stress
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should monitor memory usage during operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should measure system performance under stress 291ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should monitor memory usage during operations 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should detect memory leaks in repeated operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should detect memory leaks in repeated operations 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should analyze response time distribution
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should measure database connection pool performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should analyze response time distribution 290ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should measure database connection pool performance 290ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should monitor overall system health
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should monitor overall system health 291ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should track performance metrics over time
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should track performance metrics over time 297ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should identify performance bottlenecks
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Performance Regression Detection > should detect performance regression
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should identify performance bottlenecks 291ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |2| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Performance Regression Detection > should detect performance regression 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:223:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:223:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts
The `fetchConnectionCache` option is deprecated (now always `true`)

stdout | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
🚀 Starting database migration...

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.validateMigrations [90m(/root/repo/[39mdb/migrations/migration-runner.ts:127:33[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:381:35[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:207:42
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Migrations table not found, assuming first run

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Failed to load migration files: Error: Invalid migration file format: 003_auth_tokens.sql
    at [90m/root/repo/[39mdb/migrations/migration-runner.ts:74:17
    at Array.map (<anonymous>)
    at MigrationRunner.loadMigrationFiles [90m(/root/repo/[39mdb/migrations/migration-runner.ts:58:20[90m)[39m
    at MigrationRunner.migrate [90m(/root/repo/[39mdb/migrations/migration-runner.ts:399:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:207:20

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Migrations table not found, assuming first run

stdout | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
✅ No pending migrations

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure query performance for simple selects
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure query performance for simple selects 370ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure join query performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure aggregate query performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure join query performance 304ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure aggregate query performance 298ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should handle bulk insert performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure transaction performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should handle bulk insert performance 297ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Database Performance Tests > should measure transaction performance 297ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent read operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent read operations 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent write operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle mixed read/write workload
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle concurrent write operations 293ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should handle mixed read/write workload 297ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should measure system performance under stress
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Load Testing > should measure system performance under stress 295ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should monitor memory usage during operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should monitor memory usage during operations 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should detect memory leaks in repeated operations
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Memory Usage Monitoring > should detect memory leaks in repeated operations 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should analyze response time distribution
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should analyze response time distribution 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should measure database connection pool performance
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Response Time Analysis > should measure database connection pool performance 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should monitor overall system health
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should track performance metrics over time
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should monitor overall system health 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should track performance metrics over time 296ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should identify performance bottlenecks
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > System Health Monitoring > should identify performance bottlenecks 294ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Performance Regression Detection > should detect performance regression
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:217:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

 × |3| tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests > Performance Regression Detection > should detect performance regression 292ms
   → Failed query: insert into "tasks" ("id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding") values (default, $1, $2, $3, $4, default, default, $5, $6, default), (default, $7, $8, $9, $10, default, default, $11, $12, default), (default, $13, $14, $15, $16, default, default, $17, $18, default), (default, $19, $20, $21, $22, default, default, $23, $24, default), (default, $25, $26, $27, $28, default, default, $29, $30, default), (default, $31, $32, $33, $34, default, default, $35, $36, default), (default, $37, $38, $39, $40, default, default, $41, $42, default), (default, $43, $44, $45, $46, default, default, $47, $48, default), (default, $49, $50, $51, $52, default, default, $53, $54, default), (default, $55, $56, $57, $58, default, default, $59, $60, default) returning "id", "title", "description", "status", "priority", "created_at", "updated_at", "user_id", "metadata", "embedding"
params: Performance Test Task 0,Task 0 for performance testing,pending,high,perf-test-user,{"testIndex":0,"batchId":"perf-test-batch"},Performance Test Task 1,Task 1 for performance testing,pending,medium,perf-test-user,{"testIndex":1,"batchId":"perf-test-batch"},Performance Test Task 2,Task 2 for performance testing,pending,high,perf-test-user,{"testIndex":2,"batchId":"perf-test-batch"},Performance Test Task 3,Task 3 for performance testing,pending,medium,perf-test-user,{"testIndex":3,"batchId":"perf-test-batch"},Performance Test Task 4,Task 4 for performance testing,pending,high,perf-test-user,{"testIndex":4,"batchId":"perf-test-batch"},Performance Test Task 5,Task 5 for performance testing,pending,medium,perf-test-user,{"testIndex":5,"batchId":"perf-test-batch"},Performance Test Task 6,Task 6 for performance testing,pending,high,perf-test-user,{"testIndex":6,"batchId":"perf-test-batch"},Performance Test Task 7,Task 7 for performance testing,pending,medium,perf-test-user,{"testIndex":7,"batchId":"perf-test-batch"},Performance Test Task 8,Task 8 for performance testing,pending,high,perf-test-user,{"testIndex":8,"batchId":"perf-test-batch"},Performance Test Task 9,Task 9 for performance testing,pending,medium,perf-test-user,{"testIndex":9,"batchId":"perf-test-batch"}
stderr | tests/integration/performance/performance-monitoring.test.ts > Performance Monitoring Integration Tests
Cleanup failed: DrizzleQueryError: Failed query: delete from "observability_events"
params: 
    at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:74:11[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
    at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
    at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:223:5 {
  query: [32m'delete from "observability_events"'[39m,
  params: [],
  cause: NeonDbError: could not parse the HTTP request body: data did not match any variant of untagged enum Payload
      at dr.execute [90m(file:///root/repo/[39mnode_modules/[4m@neondatabase[24m/serverless/index.mjs:1298:10[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at [90mfile:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:148:12
      at NeonPreparedQuery.queryWithCache [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/pg-core/session.ts:72:12[90m)[39m
      at NeonPreparedQuery.execute [90m(file:///root/repo/[39mnode_modules/[4msrc[24m/neon-serverless/session.ts:147:11[90m)[39m
      at cleanupTestData [90m(/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:228:7[90m)[39m
      at [90m/root/repo/[39mtests/integration/performance/performance-monitoring.test.ts:223:5 {
    severity: [32m''[39m,
    code: [32m''[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [90mundefined[39m,
    line: [90mundefined[39m,
    routine: [90mundefined[39m,
    sourceError: [90mundefined[39m
  }
}

